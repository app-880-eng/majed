# Crypto Scalping Telegram Bot (Hourly Signals)

**Important reality-check:** لا يوجد نظام يضمن نجاح 90% بشكل ثابت. الكود يقدّم توصيات مبنية على تلاقي مؤشرات (RSI/MACD/EMA/ATR/Volume) + سياق السوق (RSI و اتجاه BTC، هيمنة BTC، مؤشر الخوف/الطمع) + حرارة أخبار عامة. استخدم إدارة رأس مال وستوب لوز دائماً.

## الميزات
- اختيار عملات *USDT* تحت 1$ من Binance (Spot).
- فريم 5 دقائق (Scalping)، تحليل سريع كل ساعة.
- مؤشرات: RSI، MACD، EMA20/50، ATR (للستوب)، فحص سبايك الفوليوم، وتقييم تلاقي الإشارات.
- فلتر سوق عام: RSI و EMA لبيتكوين + هيمنة BTC + مؤشر الخوف/الطمع.
- حرارة أخبار عامة عبر RSS (CoinDesk/CoinTelegraph) لمجرد تعزيز الثقة، بدون وعود.
- إرسال التوصيات لتليجرام بالصيغة المطلوبة (اسم العملة، سعر الدخول، الهدف، الستوب، نسبة الربح، تقدير نجاح).
- يعمل مجاناً عبر **GitHub Actions** كل ساعة (لا يحتاج سيرفر ولا Replit/Render).

## التشغيل على GitHub Actions (مجاني)
1) أنشئ Repo جديد في GitHub وارفَع الملفات كما هي.
2) من Settings > Secrets and variables > Actions > New repository secret:
   - `TELEGRAM_TOKEN` = توكن البوت
   - `TELEGRAM_CHAT_ID` = رقم الـ ID الخاص بك
3) من تبويب **Actions** شغّل workflow يدوياً أول مرة (Run workflow) أو انتظر التشغيل التلقائي كل ساعة.

> التايمزون في GitHub Actions هو UTC. الجدولة الحالية ترسل عند الدقيقة 00 من كل ساعة UTC.

## تخصيص الإعدادات (اختياري)
يمكنك تعديل المتغيرات البيئية في خطوة "Run bot" داخل الملف `.github/workflows/crypto-bot.yml`:
- `MAX_SIGNALS_PER_RUN`: أقصى عدد توصيات لكل تشغيل (افتراضي 3).
- `MIN_TP_PCT` و `MAX_TP_PCT`: الحد الأدنى/الأقصى لهدف الربح (2%..10%).
- `STOP_LOSS_PCT`: ستوب لوز افتراضي إذا فشل حساب ATR (1%).
- `TIMEFRAME`: افتراضي `5m`.
- `ONLY_UNDER_ONE_USD`: اجعلها "1" لتقييد العملات تحت 1$.

## ملاحظات مهمة
- إذا لم تتوفر فرص جيدة سيكتب البوت: "لا توجد توصيات..." بدلاً من إرسال صفقات سيئة.
- نقيّم "تقدير نسبة النجاح" كدرجة ثقة مبنية على التلاقي، ونقيّدها إلى 88% كحد أعلى حتى لا تكون مضللة.
- الأفضل إضافة فلتر سيولة/حجم أدق (مثلاً استبعاد الأزواج ذات السيولة الضعيفة).
- يمكنك تعديل شروط الدخول بسهولة داخل دالة `score_setup`.

## تشغيل محلياً
```bash
pip install -r requirements.txt
export TELEGRAM_TOKEN=...
export TELEGRAM_CHAT_ID=...
python main.py
```

---
*استخدم على مسؤوليتك. لا توجد نتائج مضمونة. إدارة المخاطر أولاً.*
